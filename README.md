# Monster Academy - æ•™è‚²ã‚²ãƒ¼ãƒ ã‚¢ãƒ—ãƒª

å­ä¾›å‘ã‘ã®æ•°å­¦å­¦ç¿’ã‚²ãƒ¼ãƒ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚ã‚«ã‚¦ãƒ³ãƒ†ã‚£ãƒ³ã‚°ã€æ¯”è¼ƒã€ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ã€è¿·è·¯ã€ãƒ‘ã‚ºãƒ«ãªã©æ§˜ã€…ãªã‚²ãƒ¼ãƒ ã‚’é€šã˜ã¦æ¥½ã—ãå­¦ç¿’ã§ãã¾ã™ã€‚

## ğŸ® æ­è¼‰ã‚²ãƒ¼ãƒ 

- **æ•°å­—ã‚«ã‚¦ãƒ³ãƒ†ã‚£ãƒ³ã‚°ã‚²ãƒ¼ãƒ ** - æ•°å­—ã‚’æ•°ãˆã‚‹ç·´ç¿’
- **æ¯”è¼ƒã‚²ãƒ¼ãƒ ** - å¤§å°æ¯”è¼ƒã®å­¦ç¿’
- **ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ã‚²ãƒ¼ãƒ ** - éŸ³å£°ä»˜ãå­¦ç¿’ã‚«ãƒ¼ãƒ‰
- **è¿·è·¯ã‚²ãƒ¼ãƒ ** - è«–ç†çš„æ€è€ƒåŠ›ã‚’è‚²æˆ
- **ãƒ‘ã‚ºãƒ«ã‚²ãƒ¼ãƒ ** - å•é¡Œè§£æ±ºèƒ½åŠ›ã‚’å‘ä¸Š

## ğŸŒ å¯¾å¿œãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

- **Windows** (Windows 10/11)
- **macOS** (macOS 10.15+)
- **iOS** (iOS 11.0+)
- **Android** (Android 5.0+)
- **Web** (Chrome, Safari, Firefox)
- **Linux** (Ubuntu 18.04+)

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
monaka2/
â”œâ”€â”€ external/                    # å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”‚   â””â”€â”€ flutter/                # Flutter SDK (ãƒ­ãƒ¼ã‚«ãƒ«)
â”œâ”€â”€ flutter_app/                # ãƒ¡ã‚¤ãƒ³Flutterã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ lib/                    # Dartã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ main.dart          # ã‚¢ãƒ—ãƒªã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ core/               # ã‚³ã‚¢æ©Ÿèƒ½
â”‚   â”‚   â”‚   â”œâ”€â”€ constants.dart  # å®šæ•°å®šç¾©
â”‚   â”‚   â”‚   â””â”€â”€ debug_logger.dart # ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°æ©Ÿèƒ½
â”‚   â”‚   â””â”€â”€ ui/                 # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚       â”œâ”€â”€ components/     # å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚       â”œâ”€â”€ debug/          # ãƒ‡ãƒãƒƒã‚°ç”»é¢
â”‚   â”‚       â””â”€â”€ games/          # ã‚²ãƒ¼ãƒ ç”»é¢
â”‚   â”‚           â”œâ”€â”€ counting_game/     # æ•°å­—ã‚«ã‚¦ãƒ³ãƒ†ã‚£ãƒ³ã‚°
â”‚   â”‚           â”œâ”€â”€ comparison_game/   # æ¯”è¼ƒã‚²ãƒ¼ãƒ 
â”‚   â”‚           â”œâ”€â”€ flashcard/         # ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰
â”‚   â”‚           â”œâ”€â”€ maze/              # è¿·è·¯ã‚²ãƒ¼ãƒ 
â”‚   â”‚           â””â”€â”€ puzzle/            # ãƒ‘ã‚ºãƒ«ã‚²ãƒ¼ãƒ 
â”‚   â”œâ”€â”€ assets/                 # ç”»åƒãƒ»éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ android/                # Androidå›ºæœ‰è¨­å®š
â”‚   â”œâ”€â”€ ios/                    # iOSå›ºæœ‰è¨­å®š
â”‚   â”œâ”€â”€ web/                    # Webå›ºæœ‰è¨­å®š
â”‚   â”œâ”€â”€ windows/                # Windowså›ºæœ‰è¨­å®š
â”‚   â”œâ”€â”€ macos/                  # macOSå›ºæœ‰è¨­å®š
â”‚   â””â”€â”€ linux/                  # Linuxå›ºæœ‰è¨­å®š
â”œâ”€â”€ tools/                      # é–‹ç™ºãƒ„ãƒ¼ãƒ«
â”‚   â””â”€â”€ mcp/                    # MCPã‚µãƒ¼ãƒãƒ¼
â”‚       â”œâ”€â”€ cipher_mcp_server.py    # ä¼šè©±å±¥æ­´ç®¡ç†
â”‚       â””â”€â”€ serena_mcp_server.py    # ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œæ”¯æ´
â”œâ”€â”€ scripts/                    # ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ docs/                       # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â””â”€â”€ .claude_code_config.json    # MCPè¨­å®š
```

## ğŸš€ é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å¿…è¦ãªç’°å¢ƒ

- **Flutter SDK** (external/flutter ã«é…ç½®æ¸ˆã¿)
- **Dart SDK** (Flutter ã«å«ã¾ã‚Œã‚‹)
- **ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥SDK**:
  - Windows: Visual Studio 2022
  - macOS: Xcode 14+
  - iOS: Xcode 14+ + Apple Developer ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
  - Android: Android Studio + Android SDK
  - Linux: GTK+3 é–‹ç™ºãƒ©ã‚¤ãƒ–ãƒ©ãƒª

### Flutterç’°å¢ƒã®ç¢ºèª

```bash
# Flutter ã®çŠ¶æ…‹ç¢ºèª
external/flutter/bin/flutter doctor

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
cd flutter_app
../external/flutter/bin/flutter pub get
```

### ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥ãƒ“ãƒ«ãƒ‰

#### Windows
```bash
cd flutter_app
../external/flutter/bin/flutter build windows --release
```

#### macOS
```bash
cd flutter_app
../external/flutter/bin/flutter build macos --release
```

#### iOS
```bash
cd flutter_app
../external/flutter/bin/flutter build ios --release
```

#### Android
```bash
cd flutter_app
../external/flutter/bin/flutter build apk --release
```

#### Web
```bash
cd flutter_app
../external/flutter/bin/flutter build web --release
```

#### Linux
```bash
cd flutter_app
../external/flutter/bin/flutter build linux --release
```

### é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

```bash
cd flutter_app
../external/flutter/bin/flutter run
```

ãƒ‡ãƒã‚¤ã‚¹é¸æŠ:
- `-d windows` - Windows
- `-d macos` - macOS  
- `-d chrome` - Web
- `-d android` - Android (ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿/å®Ÿæ©Ÿ)
- `-d ios` - iOS (ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿/å®Ÿæ©Ÿ)

## ğŸ—ï¸ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### éšå±¤æ§‹é€ 

```
UI Layer (Flutter Widgets)
    â†“
Game Logic Layer
    â†“
Core Services Layer
    â†“
Platform Layer (Flutter Engine)
```

### ã‚²ãƒ¼ãƒ ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆ

```dart
main.dart (ã‚¢ãƒ—ãƒªã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ)
    â†“
ui/
â”œâ”€â”€ components/         # å…±é€šUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ game_header.dart
â”‚   â”œâ”€â”€ question_display.dart
â”‚   â””â”€â”€ success_effect.dart
â”œâ”€â”€ debug/             # ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½
â”‚   â”œâ”€â”€ debug_menu_screen.dart
â”‚   â””â”€â”€ debug_overlay.dart
â””â”€â”€ games/             # ã‚²ãƒ¼ãƒ ç”»é¢
    â”œâ”€â”€ counting_game/
    â”œâ”€â”€ comparison_game/
    â”œâ”€â”€ flashcard/
    â”œâ”€â”€ maze/
    â””â”€â”€ puzzle/
```

## ğŸ¯ ä¸»è¦æ©Ÿèƒ½

### ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯

- **CountingGameLogic**: æ•°å­—ã‚«ã‚¦ãƒ³ãƒ†ã‚£ãƒ³ã‚°ã‚²ãƒ¼ãƒ ã®åˆ¶å¾¡
- **ComparisonGameLogic**: æ¯”è¼ƒã‚²ãƒ¼ãƒ ã®åˆ¶å¾¡  
- **FlashcardLogic**: ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰å­¦ç¿’ã®åˆ¶å¾¡
- **MazeLogic**: è¿·è·¯ã‚²ãƒ¼ãƒ ã®åˆ¶å¾¡
- **PuzzleLogic**: ãƒ‘ã‚ºãƒ«ã‚²ãƒ¼ãƒ ã®åˆ¶å¾¡

### ã‚³ã‚¢æ©Ÿèƒ½

- **DebugLogger**: çµ±åˆãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ 
- **Constants**: ã‚¢ãƒ—ãƒªå…¨ä½“ã®å®šæ•°ç®¡ç†
- **TTSService**: éŸ³å£°åˆæˆã‚µãƒ¼ãƒ“ã‚¹ï¼ˆWeb/ãƒã‚¤ãƒ†ã‚£ãƒ–å¯¾å¿œï¼‰

### UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

- **GameHeader**: ã‚²ãƒ¼ãƒ å…±é€šãƒ˜ãƒƒãƒ€ãƒ¼
- **QuestionDisplay**: å•é¡Œè¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **SuccessEffect**: æˆåŠŸã‚¨ãƒ•ã‚§ã‚¯ãƒˆè¡¨ç¤º

## ğŸ”§ é–‹ç™ºã‚¬ã‚¤ãƒ‰

### æ–°ã—ã„ã‚²ãƒ¼ãƒ ã®è¿½åŠ 

1. `flutter_app/lib/ui/games/new_game/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ
2. ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®Ÿè£…:
   ```
   new_game/
   â”œâ”€â”€ new_game_logic.dart      # ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯
   â”œâ”€â”€ new_game_screen.dart     # UIç”»é¢
   â””â”€â”€ new_game_settings_screen.dart # è¨­å®šç”»é¢
   ```
3. `main.dart` ã«ãƒ«ãƒ¼ãƒˆã‚’è¿½åŠ 

### MCPã‚µãƒ¼ãƒãƒ¼ã®ä½¿ç”¨

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯é–‹ç™ºæ”¯æ´ç”¨ã®MCPã‚µãƒ¼ãƒãƒ¼ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ï¼š

- **Cipher MCP Server**: éå»ã®ä¼šè©±å±¥æ­´ã‚„è¨­è¨ˆåˆ¤æ–­ã‚’æ¤œç´¢ãƒ»å–å¾—
- **Serena MCP Server**: ã‚³ãƒ¼ãƒ‰ä¿®æ­£ãƒ»å®Ÿè¡Œæ”¯æ´

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«: `.claude_code_config.json`

### ã‚³ãƒ¼ãƒ‰å“è³ªã®ç¶­æŒ

```bash
# ã‚³ãƒ¼ãƒ‰è§£æ
cd flutter_app
../external/flutter/bin/flutter analyze

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
../external/flutter/bin/flutter test

# ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
../external/flutter/bin/flutter format lib/
```

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Flutteré–¢é€£

**Flutter SDK ãŒè¦‹ã¤ã‹ã‚‰ãªã„**
```bash
# Flutter ã®çŠ¶æ…‹ç¢ºèª
external/flutter/bin/flutter doctor

# ãƒ‘ã‚¹ã®ç¢ºèª
echo $PATH  # Linux/macOS
set PATH   # Windows
```

**ä¾å­˜é–¢ä¿‚ã®å•é¡Œ**
```bash
cd flutter_app
../external/flutter/bin/flutter clean
../external/flutter/bin/flutter pub get
```

### ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å›ºæœ‰

**Windows**
- Visual Studio 2022ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
- Windows SDKãŒæœ€æ–°ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª

**macOS/iOS**
```bash
# Xcode Command Line Tools ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
xcode-select --install

# iOSé–‹ç™ºã®å ´åˆ
sudo xcode-select --switch /Applications/Xcode.app
```

**Android**
- Android Studio ã¨ Android SDK ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
- `flutter doctor` ã§Android toolchainã‚’ç¢ºèª

**Linux**
```bash
# å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo apt update
sudo apt install libgtk-3-dev pkg-config
```

### ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

**Gradle ã‚¨ãƒ©ãƒ¼ (Android)**
```bash
cd flutter_app/android
./gradlew clean
cd ..
../external/flutter/bin/flutter build apk
```

**Podfile ã‚¨ãƒ©ãƒ¼ (iOS)**
```bash
cd flutter_app/ios
rm Podfile.lock
pod install
```

## ğŸ“Š ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ä»•æ§˜

### ä½¿ç”¨æŠ€è¡“

- **Flutter**: 3.33.0+
- **Dart**: 3.6.0+
- **çŠ¶æ…‹ç®¡ç†**: Riverpod 2.6.1
- **éŸ³å£°åˆæˆ**: flutter_tts 4.2.3
- **éŸ³å£°å†ç”Ÿ**: audioplayers 6.5.0
- **ãƒ‘ã‚¹æ“ä½œ**: path_provider 2.1.5

### ã‚µãƒãƒ¼ãƒˆå¯¾è±¡

- **æœ€å°ãƒãƒ¼ã‚¸ãƒ§ãƒ³**:
  - iOS: 11.0+
  - Android: API Level 21 (Android 5.0)+
  - Windows: Windows 10+
  - macOS: 10.15+
  - Web: Chrome 57+, Safari 11+, Firefox 52+

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. Issues ã§ãƒã‚°å ±å‘Šã‚„æ©Ÿèƒ½è¦æœ›ã‚’ä½œæˆ
2. ãƒ•ã‚©ãƒ¼ã‚¯ã—ã¦featureãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
3. æ–°æ©Ÿèƒ½ã‚„ãƒã‚°ä¿®æ­£ã‚’å®Ÿè£…
4. ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ãƒ»å®Ÿè¡Œ
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡

### é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

- ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«: `flutter format` ã‚’ä½¿ç”¨
- ãƒ†ã‚¹ãƒˆ: æ–°æ©Ÿèƒ½ã«ã¯å¿…ãšãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
- ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: æ˜ç¢ºã§ç°¡æ½”ãªèª¬æ˜ã‚’è¨˜è¼‰

## ğŸ“– å‚è€ƒãƒªãƒ³ã‚¯

- [Flutter Documentation](https://docs.flutter.dev/)
- [Dart Language Guide](https://dart.dev/guides)
- [Riverpod Documentation](https://riverpod.dev/)
- [Material Design Guidelines](https://m3.material.io/)

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚